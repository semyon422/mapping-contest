<script>
function announce() {
	const event = new Event('verified');
	document.getElementById("login").dispatchEvent(event);
}
</script>
<div class="grid">
	<div></div>
	<form id="login" hx-boost="true" action="/login" method="post" hx-trigger="verified1">
		<hgroup>
			<h1>Login</h1>
			<h1><a href="/register">Register</a></h1>
		</hgroup>

		<label for="name">Username</label>
		<input type="text" id="name" name="name" required value="<%= params.name or "" %>">

		<label for="password">Password</label>
		<input type="password" id="password" name="password" required value="<%= params.password or "" %>">

		<button type="submit"
			data-sitekey="<%= ctx.recaptcha_site_key %>"
			data-callback="announce"
			data-action="login"
		>Submit</button>

		<small id="message"><%= table.concat(errors or {}, "<br>") or "" %></small>
	</form>
	<div></div>
</div>
